---
title: "Git_desc_1"
date: 2019-06-07T10:14:19+09:00
categories:
- category
- subcategory
tags:
- tag1
- tag2
keywords:
- tech
#thumbnailImage: //example.com/image.jpg
draft: true
---

<!--more-->

# 들어가기에 앞서

**Git 은 이제 개발자로써 모르면 안될 중요한 기술이 되었다.**

단순히 개인 프로젝트의 버전 관리를 넘어  
다른 누군가와 협업을 할 때 Git 의 진가는 드러나며,  
인터넷을 통해 원격으로 프로젝트를 관리하고 다른 사람의 프로젝트에 기여할 수 있게끔 해주는   
Github 가 시작되면서부터는 오픈소스 산업 전반에 큰 영향을 끼치고 있다.

뭐가 어쨋든 이런 판이 짜여져 있는 상태에서  
나는 남들이 써야한다 하면 쓰고, 필요할 때마다 모르는 걸 찾아보는 식으로 차츰 알아갔다.

그러다보니 Git 이 어떤 식으로 돌아가고, 정확히 어떤 기능들을 제공하는지 파악하지 못했고,  
'공부해서 파악해야지' 하면서도 당장은 기본적인 것들만 알고도   
작은 프로젝트를 관리하는데에는 부족함이 없었기 때문에 미루고 미뤄왔다.  

이 글을 쓰게 된 것은 내가 사용하는 Fork 라는 앱을 추천해주기 위해서였는데,  
글을 쓰기위해 제공하는 기능을 공부하다보니 내가 몰랐던,   
알면 유용할 기능들이 여럿 있었다.

그리고 그건 결국 Git 의 기능들이었기 때문에  
Git 에 대해서 제대로 공부할 필요가 있다고 느껴져  
공부한 내용을 정리하는 차원에서 글을 쓰려고 한다.

Git 은 활용하기에 따라 배워야할 기능들이 차이가 나기 때문에  
여러 글에 거쳐 설명할 예정이며,  
여기에서는 일단 Git 을 시작하고 기본적인 사용방법 을 설명할 예정이다.  
개념적인 부분도 꽤 포함이 되지만 가볍게 읽고 넘어가면 될 듯 하다.

> https://git-scm.com/book/ko/v2 문서를 기반으로 뺄건 빼고 사족이 조금 붙은 글이다.

# Git 기본 사용법

구글에 Git 이 뭔지 쳐보면 가장많이 나오는 글,  
*"Git 은 버전 관리 시스템이다."* ~~간단해보이지만 1도 이해 안감~~

그 놈의 버전 관리가 뭐길래??  
일단 버전 관리의 개념부터 알아봐야겠다.

## 버전 관리

IT 는 버전의 세상이다.

내가 쓰고있는 핸드폰은 아이폰 XS MAX 이다.  
세상에 많은 OS 중 iOS 를 사용하며, 12.2 버전이 설치되어 있다.  
그리고 이 아이폰에 설치된 카카오톡의 버전은 8.4.1 이다.

![](/res/img/dev/ios_version.jpg) *iOS 버전*  

![](/res/img/dev/katalk_version.jpg) *카카오톡 버전*

***'버전이 대체 뭐길래?'***  
하는 건 너무 당연한 질문이다.  
버전이 버전이지 다른게 있을까?  
단순한 숫자에 불과하지 않나?!

![](/res/img/dev/version_def.png) *버전의 의미*

단순히 숫자로 보자면 그냥 숫자일 수 있다.

그러나 정의를 다시한번 살펴보면  
***"수정, 개선하여 완성한 것. 새로워질 때마다 번호를 늘려 나감"***   
즉, 수정이 될 때마다 번호를 매기는 행위인 것이다.

이렇게 번호를 매기고, 버전마다 형상을 관리하는 것.  
버전마다 지원하는 기능, 버그, 개선된 점이 포함된 내용과  
코드를 관리하는 것을 버전 관리라고 생각하면 되겠다.

사실 버전의 숫자가 올라가지 않을 정도의 사소한 수정사항도  
모두 기억하고, 관리(버전 이동, 내용 비교 등)할 수 있게 도와주는 것이 버전 관리 시스템이다.

### 버전 관리 시스템

버전 관리라고만 하면 단순히 프로젝트 폴더 째로 복사하는 방법이 있다.  
더 나아가면 복사한 폴더 이름을 날짜,시간으로 지정한다던가..  

꽤 간단한 방식이지만 사람이 실수하기가 너무 쉽다.  
폴더를 실수로 지워버린다거나, 잘못 복사한다거나.. ~~(휴먼 에러)~~  
무엇보다도 이런건 시스템이라고 불릴만한 방식이 아니다.

그럼 버전 관리 시스템은 뭘까?  
버전 관리 시스템은 3가지가 있다.  
<!-- <br> -->

1. 로컬 버전 관리 시스템 (Local VCS, Local Version Control System) - RCS, ..  
이 VCS 는 간단한 데이터베이스 파일을 가지고 파일의 변경 정보를 관리한다.   
![](https://git-scm.com/book/en/v2/images/local.png) *로컬 버전 관리* (출처: https://git-scm.com)

2. 중앙집중식 버전 관리 시스템 (CVCS, Central Version Control System) - Subversion, CVS, ..  
다른 개발자와 협업하는 경우에 생길 수 있는 문제점을 해결하기 위해 생긴 방식이다.  
중앙에 파일을 관리하는 서버가 별도 존재하고, 클라이언트는 이 서버에서 파일을 받아 사용한다. (Checkout)   
(파일을 받는다는 것은 모든 버전의 기록을 다 불러오는 것이 아니라, 원하는 버전의 스냅샷만 복제해오는 것이다)  
![](https://git-scm.com/book/en/v2/images/centralized.png) *중앙집중식 버전 관리* (출처: https://git-scm.com)  
Local VCS 에 비해 누가 어떤 작업을 하는지 꼼꼼하게 관리할 수 있으며,   
모든 클라이언트의 Local DB 를 관리하지 않고 VCS 하나만 관리하면 되므로 훨씬 쉽다.  
그러나 네트워크 오류나 외부 요인에 의해 서버가 죽어있으면 협업을 할 수 없고,  
Local VCS 와 동일하게 DB 가 있는 하드디스크에 문제가 생기면 모든 히스토리를 잃게 된다.

3. 분산 버전 관리 시스템 (DVCS, Distributed Version Control System) - Git, Mecurial, ..  
DVCS 는 단순히 특정 버전의 스냅샷만 가져오는 것이 아니라, **저장소의 모든 내용을 복제한다.** ***(Clone)***  
이때 히스토리도 같이 복제가 되어 서버에 문제가 생겨도 복제물로 다시 작업을 시작할 수 있고,  
Clone 한 클라이언트 중 아무거나 골라서 서버를 복원할 수도 있다.
![](https://git-scm.com/book/en/v2/images/distributed.png) *분산 버전 관리 시스템* (출처: https://git-scm.com)  
대부분의 DVCS 환경에서는 원격 저장소가 존재하며 여러개일 수도 있다.  
이 때문에 사람들은 동시에 여러 그룹과 다양한 방법으로 협업을 할 수 있다.

현재까지는 DVCS 가 가장 괜찮은 방법이고, 보편화 되고 있지만  
여전히 많은 오래된 레거시 코드들이 1,2 번의 방식으로 버전 관리를 하고 있다.  
그렇다고 해서 필요도 없는데 사용법을 알고있어야 하는 것은 아니다.

우리의 목적은 Git 이다.  
분산 버전 관리 시스템은 어떤 방식으로 돌아가는지를 알고,  
Git 이 분산 버전 관리 시스템에 해당한다는 것을 알고 있으면 된다.

## Git, GitHub
위의 버전 관리 시스템의 설명으로 Git 의 대략적인 방식을 알 수 있다.  
그러나 어떻게 사용하는지 감이 오지 않는다.  
이제부터는 Git 을 어떻게 사용할지 알아볼 것이다.  

Git 을 설치하고, 어떤 식으로 사용하면 될지에 대한 것들을 살펴보기 이전에  
알고있어야 할 내용이 하나 있다.

### *로컬 저장소와 원격 저장소가 구분되어 존재한다.*

로컬 저장소의 유무는 SVN 같은 Central VCS 와의 큰 차이점이기도 하며  
Git 으로 원격 저장소 없이 로컬 저장소만으로 운영할 수도 있다.

![](/res/img/dev/repositories.png) *그림에는 생략된 부분이 있음*

Local 내에는 몇가지 영역이 존재하며 각각 역할이 다르다.

Remote 쪽에는 GitHub, GitLab, .. 이 적혀있는데,  
이것은 원격 저장소를 쉽게 사용할 수 있도록 서버를 제공하는 서비스들이다.  
**원격 저장소를 사용하기 위해 우리가 직접 Git 서버를 구성할 필요가 없다**는 것이다.

일단은 이 정도만 기억하고 Git 을 설치/사용하는 방법에 대해 알아본 뒤에  
명령어와 영역 별 구성과 역할을 알아보자.

### Git 설치 및 사용법

Mac 에서 Git 을 설치하고  
*로컬 저장소 생성하기* 와 *GitHub를 이용하여 원격 저장소 생성 및 불러오기*  
이 두 가지를 진행해볼 것이다.

> 생소한 용어와 명령어가 난무할 예정이지만 여기서는 해보는 것에 초점을 맞춘다.  
> 관련 용어나 명령어는 뒤에서 설명할 것이다

#### Git 설치하기

GUI 클라이언트도 있지만 명령어에 익숙해지기 위해 CLI 기반 Git 클라이언트를 설치한다.

XCode 의 커맨드 라인 툴을 설치하면 Git 이 기본적으로 포함되어 있다.  
기본 Git 외의 다른 버전을 설치하여 사용하고 싶으면 brew 를 이용하면 된다.

`brew install git`

설치를 마치고나면 user 정보를 설정한다.  
name 과 email 을 다음과 같이 설정해준다.

`git config --global user.name "NAME"`  
`git config --global user.email "EMAIL"`

지금은 임의의 name 과 email 을 넣어도 상관없다.  
이렇게해서 터미널에서 git 을 사용할 준비를 마쳤다.

이제 저장소를 생성하고 간단하게 사용해볼 것인데,  
로컬 저장소만으로 관리를 할지, 원격으로 관리할 지에 따라 시작하는 방법이 조금 다르다.  
물론 로컬 저장소로 시작하여 나중에 원격 저장소에 연동할 수도 있기는 하지만 조금 더 손이 많이간다.

#### 로컬 저장소 생성하기
여기에서는 로컬 저장소를 생성하고 간단한 수정 사항을 만들어 커밋을 해볼 것이다.

##### 저장소 생성
로컬 저장소는 `git init` 명령으로 생성한다.  
아무 폴더나 만들어 터미널로 이동하여 `git init` 을 실행하면 아래와 같이 나온다.  
![](/res/img/dev/gitinit.png)  
그리고 `git status` 를 실행해보면 아래와 같이 출력된다.  
![](/res/img/dev/gitstatus.png) *master 라는 브랜치로 저장소가 만들어졌고, 아무 수정사항이 없어 커밋할 내용이 없다는 뜻이다.*

##### 커밋에 반영할 변경사항 선택
변경사항을 만들기 위해 `touch README.md` 를 실행한다. (빈 파일을 만드는 명령어이다) 
![](/res/img/dev/gitstatuschanged.png) *추적하지 않는 파일이 생겼다.*  
`git add README.md` 를 실행시켜보면 아래와 같이 출력된다.  
![](/res/img/dev/gitadded.png) *이제 커밋할 변경 사항이 만들어졌다.*

> 이 상태를 **Staged** 라고 표현한다. (스테이지 해제는 Unstage 라고 함)

##### 변경사항 반영
마지막으로 `git commit -m "First Commit"` 을 실행하여 Local Repository 에 변경사항을 반영한다.  
![](/res/img/dev/firstcommit.png) *커밋 성공*  
이번에는 `git log`로 확인해본다.
![](/res/img/dev/gitlog.png) *이상한 문자열과 브랜치 상태, 유저 정보, 날짜, 그리고 커밋 메세지가 출력된다. (q를 입력하여 빠져나간다)*

이렇게 **커밋을 함으로써 revision 이 생성**되었다.  

*revision* 이란 특정 커밋을 가리키는 표현식인데,  
바로 위에 `git log` 를 통해 봤던 이상한 문자열이다.  
간단하게 각 커밋을 구분하기 위한 고유한 값, 더 쉽게는 버전으로 생각하면 될 것 같다.

#### GitHub를 이용하여 원격 저장소 생성 및 불러오기

원격 저장소는 bare 저장소라고 하며, 로컬 저장소와 다르게 bare 저장소에는 작업 공간이 없다.

Git 서버에서 원격 저장소를 생성한 뒤,  
그 저장소를 복제함으로써 로컬 저장소를 생성한다.

보통은 Git 서버를 직접 구축하지 않고   
Github/Gitlab 등의 서비스를 이용하는데,  
여기서는 GitHub 를 이용할 것이다.

그러기 위해서 [GitHub](https://github.com) 에 가입한다.

그리고 로그인하여 새로운 저장소를 생성한다.

이렇게 하면 원격 저장소가 생성된 것이다.

이제 이 원격 저장소를 복제하여 작업하고 커밋할 것이다.

GitHub 가입할 떄의 이름과 메일 주소로 config 를 다시 설정한다.

`git config --global user.name "GitHub Name"`  
`git config --global user.email "GitHub Email"`

아까 만든 저장소를 복제한다

`git clone https://github.com/<Name>/<Repo Name>`

로컬 저장소가 생성되었다.

여기서부터는 로컬 저장소에서 했던 것처럼 변경사항을 만들고 커밋해볼 것이다.

`touch README.md`
`git add README.md`
`git commit -m "First Commit"`

변경 사항을 반영했다.

그리고 GitHub 에 가보면

아무것도 뜨지 않는다.

커밋은 로컬 저장소에만 반영하는 것이고,
이 커밋을 원격 저장소에 반영하기 위해서는 push 해야한다.

`git push`

비밀번호를 입력하면 푸시가 완료되고

GitHub 원격 저장소에도 반영이 된 것을 볼 수 있다.


### 각 영역별 구성

#### 로컬 구성

로컬에서는 Working Directory, Index, Local Repository 로 구성이 되며,  
각각의 역할에 대한 설명은 아래와 같다.

- 작업 공간 (Working Directory) : 말 그대로 작업이 이뤄지는 영역이다.  
코드를 수정하거나, 파일을 추가/삭제를 하는 공간이며 디렉토리 상에서 .git 을 제외한 모든 영역이다.  
- Index (Staging Area) : 작업 공간에서 수정된 내용을 Local Repository 에 Commit 하기 전에 저장하는 파일이다.  
Local Repository 에 Commit 하기 전 상태를 Staged 라고 하며,  
변경된 내용을 Commit 하고자 하여 git add/remove 명령어를 실행하는 경우 해당 파일이 Staging 된다.
디렉토리 상에서는 .git/index 에 위치한다.
- 로컬 저장소 (Local Repository) : Commit 한 내역 (History), Tag, 

#### 원격 구성